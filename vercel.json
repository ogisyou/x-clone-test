{
  "version": 2,
  "buildCommand": "echo $GOOGLE_APPLICATION_CREDENTIALS_BASE64 | base64 -d > /tmp/gcp-key.json && GOOGLE_APPLICATION_CREDENTIALS=/tmp/gcp-key.json npm run build && npm run build:functions",
  "outputDirectory": ".next",
  "rewrites": [
    {
      "source": "/api/home/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/home"
    },
    {
      "source": "/api/profile/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/profile"
    },
    {
      "source": "/api/followers/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/followers"
    },
    {
      "source": "/api/following/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/following"
    },
    {
      "source": "/api/recommended/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/recommended"
    },
    {
      "source": "/api/user/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/user"
    },
    {
      "source": "/api/deleteUser/:uid",
      "destination": "https://us-central1-x-clone-test2.cloudfunctions.net/deleteUser"
    },
    {
      "source": "/((?!_next/|static/).*)",
      "destination": "/$1"
    }
  ]
}